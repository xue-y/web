<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
<script type="text/javascript" src="jquery.js"></script>
</head>
<body>
	
<script type="text/javascript">
$(function(){

	 function scr_gao(ele,opt){
	    
	    	var defaults={
	    			attr:"margin",
	    			num:1,
	    			zxn:1,
	    			direction:"top",
	    			delay:5000,
	    			t:300
	    		}

	    	// 元素取值
	 		var not_ul=$(ele).find("ul");
			var not_li=not_ul.find("li");
			var li_len=not_li.length;
			var defalut_v;// 运动完成后停留所在位置	

			 // 根据属性不同 设置运动属性
	    	if(opt.direction=="top" || opt.direction=="bottom")
	    	{
	    		var li_v=not_li.eq(0).height(); // 单个子元素属性值
	    		
	    	}else
	    	{
	    		var li_v=not_li.eq(0).width();	
	    		not_ul.css("width",li_v*li_len);
	    	}   


	    	var arg=arguments.length;

	    	// 如果没有写选项参数 设置默认参数
	    	if(arg==1)    
	    	{
	    		opt=defaults;
	    	}else
	    	{
		    	// 判断属性是否存在 设置属性值
		    	
		    	if(typeof opt.num=="undefined")
		    	{
		    		opt.num=defaults.num;
		    	}
		    	if(typeof opt.zxn=="undefined")
		    	{
		    		opt.zxn=defaults.zxn;
		    	}
		    	if(typeof opt.direction=="undefined")
		    	{
		    		opt.direction=defaults.direction;
		    	}

		    	if(opt.direction=="top" || opt.direction=="bottom")
		    	{
		    		opt.attr="marginTop";	
		    	}else
		    	{
					opt.attr="marginLeft";
		    	}
				if(typeof opt.delay=="undefined")
		    	{
		    		opt.delay=defaults.delay;
		    	}
		    	if(typeof opt.t=="undefined")
		    	{
		    		opt.t=defaults.t;
		    	}
		    	
			}
				
			opt.t*=opt.num; // 运动花费的时间

	    	// 如果展现的个数 小于 运动元素的个数
			if(parseInt(opt.zxn) < parseInt(opt.num))
			{
				opt.zxn=opt.num;
			}

	    	//如果最外面的包裹元素是展现多个子元素，但运动的是一个子元素
	    	if(parseInt(opt.zxn) > parseInt(opt.num))
	    	{
	    		var chazhi=parseInt(opt.zxn)-parseInt(opt.num);

	    		if(opt.direction=="top" || opt.direction=="bottom")
	    		{
	    			$(ele).height((chazhi+1)*li_v); // 最外面元素的高度、宽度
	    		}else
	    		{

	    			$(ele).width((chazhi+1)*li_v); // 最外面元素的高度、宽度
	    		}
	    	}
			 // 设置初始默认值
			 if(opt.direction=="bottom" || opt.direction=="right")
	    	 {	    	 		    	 
	    	  	var yun_v=-(li_len-opt.num-chazhi)*li_v;// 一次运动的距离
			 	    defalut_v=yun_v+opt.num*li_v;  	

	    			not_ul.css(opt.attr,yun_v);	// 滚动元素[外框]初始值	    			
	    	 }else
	    	 {
	    	 	// top left 默认滚动元素[外框]初始 0
	    	 	   defalut_v=-(li_v*opt.num);
	    	 }

	    	 // 根据属性不同 设置运动属性 animation 不支持变量
	    	if(opt.direction=="top" || opt.direction=="bottom")
	    	{	    		
	    		attr_css={marginTop:defalut_v}
	    	}else
	    	{
	    		attr_css={marginLeft:defalut_v}
	    	}

			 function not_src_up()
			 {
				 not_ul.animate(attr_css,opt.t,'linear',function()
				 {
					not_ul.css(opt.attr,0).find('li').slice(0,opt.num).appendTo(not_ul);
				 });
			 }
			 function not_src_down()
			 {		
			    not_ul.animate(attr_css,opt.t,'linear',function()
			    {
			    	 not_ul.css(opt.attr,yun_v).find('li').slice(-opt.num).prependTo(not_ul);
			    });	 
			 }
			 
			 $(ele).hover(function(){
				 clearInterval(t);
				 },function()
				 {
					 t=setInterval(function()
					 {
						
						if(opt.direction=="top" || opt.direction=="left")
						{
							not_src_up();  
						}else
						{
							 not_src_down();
						}

					 },opt.delay) 
				 }).trigger('mouseleave');
 	};


	// 调用示例
   var opt={
   		num:1,// 一次运动的个数
   		zxn:3, // 展示的个数
   		direction:'left',// 运动方向 top bottom left right
   		delay:5000,
   		t:300,// 一个元素的运动时间，如果运动个数多个，时间为 5 * num
   	}
	scr_gao(".warp",opt);

});
 
</script>

<body>
<style type="text/css">
*{ padding: 0px; margin:0px; }
li{list-style: none;}
/*.warp{background-color: #f8f9fb; overflow: hidden;}
 .warp li{ line-height: 30px }  */ /* bottom top */

.warp{background-color: #f8f9fb;height: 30px; overflow: hidden;}
.warp ul{ clear: both;}
.warp li{ line-height: 30px; width:100px; float: left; }  /* left right */
</style>
	<div class="warp">
		 <ul id="gegao">
		 	<li>11</li>
		 	<li>22</li>
		 	<li>33</li>
		 	<li>444</li>
		 	<li>55</li>
		 	<li>66</li>
		 	<li>77</li>
		 	<li>88</li>
		 </ul>
	 </div>
</body>
</html>